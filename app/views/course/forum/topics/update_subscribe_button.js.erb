// Remove current tooltip, replace subscribe button, re-enable tooltip
BUTTON_SELECTOR = '<%= "#topic_#{@topic.id} .btn-subscribe"%>';
$(BUTTON_SELECTOR).tooltip('destroy');
$(BUTTON_SELECTOR).replaceWith(
    '<%= escape_javascript(render partial: 'course/forum/topics/subscribe_button', locals: { user: current_user, forum: @forum, topic: @topic }) %>'
);
$(BUTTON_SELECTOR).tooltip();

// Remove older flash messages, and show users the new flash message
$('.course-layout').parents('.container-fluid:first').find('.alert').remove();
$('.course-layout').parents('.container-fluid:first').prepend('<%= j(flash_messages) %>');
window.scrollTo(0, 0);
